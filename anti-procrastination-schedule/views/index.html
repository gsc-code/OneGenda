<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Home</title>
        <link rel="stylesheet" href="style.css">
        <script src="script.js" defer></script>

        <!-- possible font (currently not used) -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap" rel="stylesheet">

    </head>

    <body>
        <section id="header">
            <a href="#"></a>Anti-Procrastination Schedule</a>
            <nav>
                <ul id="navbar">
                    <li><a class="active" href="index.html">Home</a></li>
                    <li>
                        <div>
                            <script src="https://accounts.google.com/gsi/client" async defer></script>

                            <div id="g_id_onload"
                                data-client_id="314363292248-0hkj8at161r1o3og4fgqjs604s35e9m5.apps.googleusercontent.com"
                                data-login_uri="https://unique-pixel-396900.uw.r.appspot.com/dashboard.html"
                                data-scope="https://www.googleapis.com/auth/calendar"
                                data-callback="handleCredentialResponse">
                            </div>

                            <script>
                                function parseJwt (token) {
                                    var base64Url = token.split('.')[1];
                                    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
                                    var jsonPayload = decodeURIComponent(window.atob(base64).split('').map(function(c) {
                                        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
                                    }).join(''));

                                    return JSON.parse(jsonPayload);
                                }

                                function handleCredentialResponse(response) {
                                    const responsePayload = parseJwt(response.credential);
                                    console.log("ID: " + responsePayload.sub);
                                    console.log('Full Name: ' + responsePayload.name);
                                    console.log('Given Name: ' + responsePayload.given_name);
                                    console.log('Family Name: ' + responsePayload.family_name);
                                    console.log("Image URL: " + responsePayload.picture);
                                    console.log("Email: " + responsePayload.email);
                                }
                            </script>
                    
                            <div class="g_id_signin"
                                data-type="standard"
                                data-size="large"
                                data-width="100"
                                data-theme="outline"
                                data-text="sign_in_with"
                                data-shape="rectangular"
                                data-logo_alignment="left">
                            </div>
                        </div>
                    </li>
                </ul>
            </nav>
        </section>
    </body>
</html>